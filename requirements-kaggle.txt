# ==============================================================================
# requirements-kaggle.txt — SpectraMind V50
# ------------------------------------------------------------------------------
# Purpose:
#   Runtime-only deps for Kaggle kernels & DVC stages (no dev/lint/test).
#   Torch/TV/PyG installed via bin/kaggle-boot.sh to match Kaggle CUDA wheels.
#
# Usage:
#   pip install -r requirements-kaggle.txt
#
# Notes:
#   • Pin to NumPy 1.26.x for broad binary wheel availability on Kaggle.
#   • numba pinned to 0.59.x (0.60+ requires NumPy 2.x).
#   • Keep package count small to speed up cold-start installs.
#   • Prefer versions with manylinux wheels to avoid builds in offline kernels.
# ==============================================================================

# --- CLI & Config ---
typer[all]==0.12.5              # stable CLI; rich help/typer extras pull click/rich
hydra-core==1.3.2
omegaconf==2.3.0
pydantic==2.7.4
pyyaml==6.0.2
jsonschema==4.22.0
packaging==24.1
typing-extensions==4.12.2       # pydantic/runtime hints stability on Py3.10/3.11

# --- Core Scientific Stack ---
numpy==1.26.4                   # hard pin for wheel availability + numba compat
scipy==1.11.4
pandas==2.2.2
polars==1.5.0                   # conservative; fast CPU wheels, good with Py3.10/3.11

# --- Parquet / Arrow I/O ---
pyarrow==16.1.0                 # aligns with pandas 2.2.x parquet engine

# --- Progress / Logging ---
tqdm==4.66.4
rich==14.1.0
loguru==0.7.3                   # lightweight structured logging

# --- Visualization & Diagnostics ---
matplotlib==3.8.4
seaborn==0.13.2
umap-learn==0.5.6               # stable manylinux wheels w/ numba 0.59
networkx==3.2.1

# --- Model Utils (non-Torch) ---
scikit-learn==1.5.1
joblib==1.4.2
statsmodels==0.14.2

# --- Symbolic / Physics-informed ---
sympy==1.13.1
numba==0.59.1                   # keep with NumPy 1.26.x; avoids 2.x upgrade chain

# --- DVC (core only; no remote extras) ---
# Use plain 'dvc' for local pipeline execution/caching in kernels.
# Remotes (s3/ssh/gcs) are configured outside Kaggle or via bin scripts.
dvc==3.51.2

# ⚠️ Torch stack handled separately by bin/kaggle-boot.sh to match Kaggle CUDA:
# torch==2.3.x / 2.4.x (per Kaggle image)
# torchvision==0.18.x / 0.19.x (paired)
# torch-geometric==2.5.x (pip wheels after torch installed)
