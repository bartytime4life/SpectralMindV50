# ==============================================================================
# requirements-kaggle.txt — SpectraMind V50 (hardened)
# ------------------------------------------------------------------------------
# Runtime-only deps for Kaggle kernels & DVC stages (no dev/lint/test).
# Torch/TV/PyG are installed by bin/kaggle-boot.sh to match CUDA wheels.
#
# Tested: Python 3.10/3.11 on Kaggle, NumPy 1.26.x (pre–NumPy 2).
# Policy : Prefer manylinux wheels (no source builds), stable minor pins.
# ==============================================================================

# Pip behavior (must be first)
--only-binary=:all:
--prefer-binary

# --- CLI & Config ---
typer[all]==0.12.5
hydra-core==1.3.2
omegaconf==2.3.0
pydantic==2.7.4
PyYAML==6.0.2
jsonschema==4.23.0
packaging==24.2
typing-extensions==4.12.2

# --- Core Scientific Stack (NumPy 1.26 LTS line) ---
numpy==1.26.4
scipy==1.11.4
pandas==2.2.3
polars==1.5.0

# --- Parquet / Arrow I/O ---
pyarrow==16.1.0

# --- Progress / Logging ---
tqdm==4.66.4
rich==13.7.1            # dvc<4 requires rich<14
loguru==0.7.3

# --- Visualization & Diagnostics ---
matplotlib==3.8.4
seaborn==0.13.2
umap-learn==0.5.6
pynndescent==0.5.12     # stability pin for umap-learn on numba 0.59.x
networkx==3.2.1

# --- Model Utils (non-Torch) ---
scikit-learn==1.5.1
joblib==1.4.2
statsmodels==0.14.2

# --- Symbolic / Physics-informed ---
sympy==1.13.1
numba==0.59.1
llvmlite==0.42.0        # exact pair for numba 0.59.x on NumPy 1.26.x

# --- DVC (core only; no remote extras for Kaggle) ---
dvc==3.55.2

# ------------------------------------------------------------------------------
# Torch stack handled by bin/kaggle-boot.sh to match Kaggle CUDA wheels:
#   torch / torchvision paired (cu121/… per image), PyG via data.pyg.org
# ------------------------------------------------------------------------------
